---
title: JS垃圾回收相关
date: 2019-1-16 11:39:01
tag: JavaScript核心
category: JavaScript
---
#### 首先，js中使用的内存分为两种：栈内存和堆内存。

- ##### 栈内存：即为保存函数执行上下文ECS的栈空间。EC里面包括基本类型数据的值，引用类型数据的引用地址。

- ##### 堆内存：保存引用类型的真实值，具体表现来说：对象以key：value形式保存，函数以字符串形式保存。

#### 接着看看他们二者的释放过程

- 栈内存：在函数执行时会产生一个新的执行上下文，压入上下文栈，执行完毕后出栈，对应的栈空间就被释放了。但是如果当前执行上下文中的部分内存被该作用域以外的东西引用，那么当前的这个作用域就不能销毁了？？？活动变量？？？查清楚！！！

- 堆内存：当一块内存区域不存在任何引用时，就认为它是可以被释放的，浏览器将在空闲时间回收。 
